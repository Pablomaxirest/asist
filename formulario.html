<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Asistance 2.0 - Solicitud de Asistencia</title>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore-compat.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 480px;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-top: 10px;
      padding: 10px;
      font-size: 14px;
      resize: none;
    }
    button {
      margin-top: 20px;
      background-color: #28a745;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Solicitud de asistencia</h2>
    <p><strong>Nombre:</strong> <span id="nombre">Pablo Arman</span></p>
    <p><strong>Equipo:</strong> <span id="equipo">PC-01</span></p>
    <p><strong>Usuario:</strong> <span id="usuario">PABLO</span></p>
    <p><strong>Sistema:</strong> <span id="so">Windows 10 Pro</span></p>
    <p><strong>RAM:</strong> <span id="ram">8.00 GB</span></p>
    <p><strong>Procesador:</strong> <span id="procesador">Intel Core i5</span></p>
    <p><strong>IP:</strong> <span id="ip">192.168.0.123</span></p>
    <p><strong>Impresoras:</strong> <span id="impresora">EPSON L3150</span></p>
    <form onsubmit="enviarFormulario(); return false;">
      <label for="problema">Describí el problema:</label>
      <textarea id="problema" required></textarea>
      <button type="submit">Enviar solicitud</button>
    </form>
  </div>

  <script>
    // Configuración de Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyAu6fmu1jGyPzRhSoEAim_Xvaqr4Qf4aDK",
      authDomain: "asistancemaxirest.firebaseapp.com",
      projectId: "asistancemaxirest",
      storageBucket: "asistancemaxirest.appspot.com",
      messagingSenderId: "1020707175351",
      appId: "1:1020707175351:web:45ab0ebbdafd50199c632",
      measurementId: "G-HSY92K9DCB"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function enviarFormulario() {
      const nombre     = document.getElementById("nombre").innerText;
      const equipo     = document.getElementById("equipo").innerText;
      const usuario    = document.getElementById("usuario").innerText;
      const so         = document.getElementById("so").innerText;
      const ram        = document.getElementById("ram").innerText;
      const procesador = document.getElementById("procesador").innerText;
      const ip         = document.getElementById("ip").innerText;
      const impresora  = document.getElementById("impresora").innerText;
      const problema   = document.getElementById("problema").value;
      const timestamp  = new Date();

      db.collection("solicitudes").add({
        nombre, equipo, usuario, so, ram, procesador, ip, impresora, problema, timestamp
      })
      .then(() => {
        alert("✅ Solicitud enviada correctamente");
        document.querySelector("form").reset();
      })
      .catch((error) => {
        alert("❌ Error al enviar: " + error);
      });
    }
  </script>
</body>
</html>
